# VPS Optimization Script for Debian/Ubuntu

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ VPS —Å–µ—Ä–≤–µ—Ä–æ–≤ –Ω–∞ –±–∞–∑–µ Debian/Ubuntu —Å XanMod kernel, Zsh + Starship, Docker –∏ —É—Å–∏–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

**üöÄ –í–µ—Ä—Å–∏—è 1.0.0** - –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è production VPS.

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üöÄ XanMod Kernel
- **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - x64v1, x64v2, x64v3, x64v4
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è low-latency –∏ gaming
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–∞—Ç—á–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### üõ†Ô∏è –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Shell (Zsh + Starship)
- **Zsh** - –º–æ—â–Ω—ã–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π shell
- **Starship prompt** - –∫—Ä–∞—Å–∏–≤—ã–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º–ø—Ç
- **–ü–ª–∞–≥–∏–Ω—ã Zsh** - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **–ê–ª–∏–∞—Å—ã** - —É–¥–æ–±–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª—è —á–∞—Å—Ç—ã—Ö –∫–æ–º–∞–Ω–¥

### üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Docker CE** - –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è —Å Docker Compose
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è daemon.json** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **BuildKit** - —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **SSH hardening** - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ root, —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏
- **Fail2Ban** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- **UFW Firewall** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **BBR congestion control** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏
- **I/O –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è SSD/NVMe
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** - swappiness, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–õ–∏–º–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã** - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤

## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Debian 11/12/13, Ubuntu 20.04+
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** x86_64 (–¥–ª—è XanMod)
- **–ü—Ä–∞–≤–∞:** root/sudo –¥–æ—Å—Ç—É–ø
- **–ü–∞–º—è—Ç—å:** –ú–∏–Ω–∏–º—É–º 2GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4GB+)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** –ú–∏–Ω–∏–º—É–º 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–°–µ—Ç—å:** –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
```bash
# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (bash + curl)
bash <(curl -s https://raw.githubusercontent.com/snaplyze/optimize-linux/optimize_vps.sh)

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
wget https://raw.githubusercontent.com/snaplyze/optimize-linux/optimize_vps.sh
chmod +x optimize_vps.sh
sudo ./optimize_vps.sh
```

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
uname -m
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å x86_64

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é –û–°
lsb_release -a
```

## üéØ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –°–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å sudo
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª–µ–π (ru_RU, en_US)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

### –Ø–¥—Ä–æ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ XanMod kernel (–≤—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è sysctl (BBR, –ª–∏–º–∏—Ç—ã)
- ‚úÖ I/O –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏ (SSD/NVMe)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (swappiness)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ SSH hardening (—Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ root)
- ‚úÖ Fail2Ban –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ UFW firewall –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ Zsh + Starship –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (git, curl, htop, fzf, bat)
- ‚úÖ SSH agent –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Docker CE —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- ‚úÖ Docker Compose plugin
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è daemon.json
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–π –∏ –ø—É–ª–æ–≤ –∞–¥—Ä–µ—Å–æ–≤

## üé® Zsh + Starship –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Zsh –ø–ª–∞–≥–∏–Ω—ã
- **zsh-autosuggestions** - –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∫–æ–º–∞–Ω–¥
- **zsh-syntax-highlighting** - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **zsh-completions** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è

### Starship prompt
- üå± Git —Å—Ç–∞—Ç—É—Å –∏ –≤–µ—Ç–∫–∞
- üêã Docker –∫–æ–Ω—Ç–µ–∫—Å—Ç
- üêç Python, ‚¨¢ Node.js, üêπ Go, ü¶Ä Rust –≤–µ—Ä—Å–∏–∏
- ‚è∞ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
- üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –¥–∏—Å–∫–∞

### –ê–ª–∏–∞—Å—ã
```bash
# Docker
d='docker'
dc='docker compose'
dps='docker ps'
dcl='docker compose logs -f'

# Git
g='git'
gs='git status'
gcm='git commit -m'
gl='git log --oneline --graph'

# –°–∏—Å—Ç–µ–º–∞
ll='ls -alFh'
update='sudo apt update && sudo apt upgrade -y'
meminfo='free -h'
diskinfo='df -h'
```

## üöÄ XanMod Kernel

### –í–µ—Ä—Å–∏–∏ —è–¥—Ä–∞
- **x64v1** - Generic (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞)
- **x64v2** - Hardware Enablement
- **x64v3** - Real-time (low-latency)
- **x64v4** - Hardware Enablement + RT

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ XanMod
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- Low-latency –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Gaming –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏
./optimize_vps.sh

# –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
uname -r
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å XanMod —è–¥—Ä–æ
```

## üê≥ Docker –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### daemon.json –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```json
{
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  },
  "storage-driver": "overlay2",
  "default-address-pools": [
    {
      "base": "172.17.0.0/12",
      "size": 24
    }
  ],
  "default-ulimits": {
    "nofile": 65536,
    "nproc": 32768
  },
  "features": {
    "buildkit": true
  }
}
```

### –°–µ—Ç—å
- **overlay2 storage driver** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É–ª—ã –∞–¥—Ä–µ—Å–æ–≤** - –∏–∑–±–µ–∂–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- **BuildKit** - —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏
- **–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SSH Hardening
```bash
# /etc/ssh/sshd_config
Port 22
PermitRootLogin no
PasswordAuthentication no
PubkeyAuthentication yes
MaxAuthTries 3
ClientAliveInterval 300
```

### Fail2Ban
- **SSH –∑–∞—â–∏—Ç–∞** - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- **–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ jail'—ã** - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### UFW Firewall
```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
ufw allow ssh
ufw allow 80/tcp
ufw allow 443/tcp
ufw enable
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
# BBR congestion control
net.ipv4.tcp_congestion_control = bbr
net.core.default_qdisc = fq

# –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
```

### –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
```bash
# –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ñ–∞–π–ª–æ–≤
fs.file-max = 2097152
fs.inotify.max_user_watches = 524288

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
vm.swappiness = 10
vm.vfs_cache_pressure = 50
```

### I/O –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏
```bash
# SSD –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
ACTION=="add|change", KERNEL=="sd[a-z]", ATTR{queue/rotational}=="0", ATTR{queue/scheduler}="mq-deadline"
# NVMe –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
ACTION=="add|change", KERNEL=="nvme[0-9]n[0-9]", ATTR{queue/rotational}=="0", ATTR{queue/scheduler}="none"
```

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞

### vps-monitor.sh
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã:
```bash
vps-monitor.sh
```
- –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏/–¥–∏—Å–∫–∞
- –°–µ—Ç–µ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- Top –ø—Ä–æ—Ü–µ—Å—Å—ã

### vps-cleanup.sh
–û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```bash
vps-cleanup.sh
```
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø–∞–∫–µ—Ç–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
- –û—á–∏—Å—Ç–∫–∞ Docker
- –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### vps-info.sh
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ:
```bash
vps-info.sh
```
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∂–µ–ª–µ–∑–µ
- –í–µ—Ä—Å–∏—è –û–° –∏ —è–¥—Ä–∞
- –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

### network-test.sh
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏:
```bash
network-test.sh
```
- –°–∫–æ—Ä–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ü–∏–Ω–≥ –¥–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- DNS —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ BBR

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### /etc/sysctl.d/99-custom.conf
```bash
# BBR
net.ipv4.tcp_congestion_control = bbr
net.core.default_qdisc = fq

# –ü–∞–º—è—Ç—å
vm.swappiness = 10
vm.vfs_cache_pressure = 50

# –§–∞–π–ª—ã
fs.file-max = 2097152
fs.inotify.max_user_watches = 524288

# –°–µ—Ç—å
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
```

### /etc/ssh/sshd_config
```bash
Port 22
PermitRootLogin no
PasswordAuthentication no
PubkeyAuthentication yes
MaxAuthTries 3
ClientAliveInterval 300
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —è–¥–µ—Ä
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
wget -O optimize_vps.sh https://raw.githubusercontent.com/snaplyze/optimize-linux/optimize_vps.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
vps-monitor.sh

# –û—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
vps-cleanup.sh
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å —è–¥—Ä–æ–º
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é —è–¥—Ä–∞
uname -r

# –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —è–¥–µ—Ä
dpkg --list | grep linux-image

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —è–¥—Ä–∞
sudo apt autoremove --purge
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å SSH
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status ssh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo sshd -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl restart ssh
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status docker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä—É–ø–ø—É
groups $USER

# –î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
sudo usermod -aG docker $USER
newgrp docker
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **CPU** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, load average
- **–ü–∞–º—è—Ç—å** - RAM, swap, –∫—ç—à–∏
- **–î–∏—Å–∫** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, I/O —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–°–µ—Ç—å** - —Ç—Ä–∞—Ñ–∏–∫, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, BBR

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏** - journalctl
- **SSH –ª–æ–≥–∏** - auth.log
- **Docker –ª–æ–≥–∏** - container logs
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - sar, iostat

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
|---------------|---------------------|-------------------|
| –Ø–¥—Ä–æ | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ | XanMod |
| Shell | Bash | Zsh + Starship |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ë–∞–∑–æ–≤–∞—è | –£—Å–∏–ª–µ–Ω–Ω–∞—è |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | –ù–µ—Ç | Docker CE |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ë–∞–∑–æ–≤—ã–π | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π |

## üìù –õ–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### v1.0.0 (–¢–µ–∫—É—â–∞—è)
- ‚ú® –ë–∞–∑–æ–≤—ã–π VPS —Å–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚ú® XanMod kernel –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚ú® Zsh + Starship –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚ú® Docker CE + Docker Compose
- ‚ú® SSH hardening –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚ú® –°–∏—Å—Ç–µ–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚ú® –£—Ç–∏–ª–∏—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## ü§ù –°–æ–æ–±—â–µ—Å—Ç–≤–æ

- **GitHub Issues** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- **GitHub Discussions** - –≤–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- **Pull Requests** - –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è VPS —Å–æ–æ–±—â–µ—Å—Ç–≤–∞**